<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galería de Videos</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100vw;
            height: 100vh;
            background-color: #000;
            position: relative;
        }
        .fade-video {
            position: absolute;
            top: 50%;
            left: 50%;
            height: 100vh;
            transform: translate(-50%, -50%);
            object-fit: cover;
            opacity: 0;
            transition: opacity 1s ease-in-out;
        }
        .active {
            opacity: 1;
            z-index: 1;
        }
    </style>
</head>
<body>
    <!-- Contenedor de videos -->
    <div id="gallery"></div>

    <script>
        // Nombres de archivos de video
        const videoNames = ['video1.mp4', 'video2.mp4', 'video3.mp4']; // Ajusta los nombres de archivos según tus videos

        const galleryElement = document.getElementById('gallery');
        let currentIndex = 0;
        const videos = [];

        // Cargar videos y agregarlos al DOM si existen
        videoNames.forEach(name => {
            const videoElement = document.createElement('video');
            videoElement.src = `static/uploads/${name}`;
            videoElement.classList.add('fade-video');
            videoElement.autoplay = false;
            videoElement.loop = true;
            videoElement.muted = true; // Desactivar sonido por defecto
            videoElement.playsInline = true; // Para mejorar la compatibilidad en dispositivos móviles

            // Verificar si el video se carga correctamente
            videoElement.onloadeddata = () => {
                videos.push(videoElement);
                if (videos.length === 1) {
                    videoElement.classList.add('active');
                    videoElement.play();
                }
                galleryElement.appendChild(videoElement);
            };

            videoElement.onerror = () => {
                console.warn(`No se pudo cargar el video: static/uploads/${name}`);
            };
        });

        // Función para cambiar de video con efecto de fade
        function changeVideo() {
            if (videos.length > 0) {
                // Ocultar el video actual y pausarlo
                videos[currentIndex].classList.remove('active');
                videos[currentIndex].pause();

                // Calcular el siguiente índice
                currentIndex = (currentIndex + 1) % videos.length;

                // Mostrar el nuevo video y reproducirlo
                videos[currentIndex].classList.add('active');
                videos[currentIndex].play();
            }
        }

        // Cambiar de video cada 10 segundos
        setInterval(changeVideo, 10000);
    </script>
</body>
</html>
